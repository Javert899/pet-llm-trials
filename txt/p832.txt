declarative process mining in healthcare
marcella rovania, fabrizio m. maggib, massimiliano de leonic, wil m.p. van der aalstc
auniversity of naples federico ii, naples, italy
buniversity of tartu, tartu, estonia
ceindhoven university of technology, eindhoven, the netherlands
abstract
clinical guidelines aim at improving the quality of care processes through evidence-based insights. how-
ever, there may be good reasons to deviate from such guidelines or the guidelines may provide insucient
support as they are not tailored towards a particular setting (e.g., hospital policy or patient group char-
acteristics). therefore, we report a case study that shows how process mining techniques can be used to
mediate between event data reecting the clinical reality and clinical guidelines describing best-practices in
medicine. declarative models are used as they allow for more exibility and are more suitable for describing
healthcare processes that are highly unpredictable and unstable. concretely, initial (hand made) models
based on clinical guidelines are improved based on actual process executions (if these executions are proven
to be correct). process mining techniques can be also used to check conformance, analyze deviations, and
enrich models with conformance-related diagnostics. the techniques have been applied in the urology de-
partment of the isala hospital in the netherlands. the results demonstrate that the techniques are feasible
and that our toolset based on prom and declare is indeed able to provide valuable insights related to process
conformance.
keywords:
healthcare processes, process mining, declarative modeling languages
1. introduction
healthcare processes can be classied either as medical treatment processes { concerning diagnostic and
therapeutic activities performed to treat a patient { or as generic organizational processes { more related
to administrative aspects (lenz and reichert, 2007a). the latter are generally handled according to well-
established procedures; conversely, medical treatment processes must be exible enough to be adapted to the
variability of the healthcare environment and to the doctors' freedom in their execution. medical treatment
processes are universally performed according to clinical guidelines, thus translating the evidence-based
insights into actions that have proven to be eective (eddy, 2005).
email addresses: marcella.rovani@unina.it (marcella rovani), f.m.maggi@ut.ee (fabrizio m. maggi),
m.d.leoni@tue.nl (massimiliano de leoni), w.m.p.v.d.aalst@tue.nl (wil m.p. van der aalst)
preprint submitted to elsevier august 11, 2015guidelines are expected to be followed as they formalize the best practices. nonetheless, it has been
observed that a 'gap' exists between these recommendations and the actual clinical practice (hay et al.,
2008; cochrane et al., 2007; lew and demaria, 2013). standard operating procedures may be missing in
the guidelines, whereas some guidelines may describe an idealistic scenario that should not be enforced for
all cases. the confrontation between actual clinical processes (as recorded in event logs) and the recom-
mendations given in guidelines is a crucial challenge for the healthcare management sector (milchak et al.,
2004; hetlevik et al., 1997). this is the realm of process mining (van der aalst, 2011), which emerged
a little over a decade ago. process mining aims at extracting process knowledge from event logs. these
logs may originate from dierent types of systems such as generic enterprise information systems as well
as from hospital information systems (his). typically, event logs contain information about the start/-
completion of process tasks together with related context data (e.g., actors and resources) and timestamps.
in a relatively short timespan, process mining has proven to be capable of providing deep insights into
process-related problems that contemporary institutions face, including hospitals. through the application
of process mining, institutions can discover the processes as they are conducted in reality, check whether
certain practices and regulations were really followed and gain insights into bottlenecks, resource utilization,
and other performance-related aspects of processes.
this paper proposes a methodology to check the compliance of the clinical guidelines (the de jure model)
against the actual clinical practice, recorded as an event log. the confrontation between the de jure model
and the clinical practice is later used to semi-automatically create a de facto model obtained by adjusting
the de jure model to take into consideration the actual clinical practice. another important aspect of the
methodology is related to the modeling language employed. in the eld of business process management
and mining, the lion's share of attention has been focusing on techniques based on procedural models. using
procedural modeling languages, such as bpmn or uml activity diagrams, models explicitly describe the
allowed sequences of activities. however, as illustrated, e.g., in rebuge et al. (rebuge and ferreira, 2012),
medical treatment processes are, in fact, highly dynamic, highly complex, increasingly multidisciplinary
and often ad hoc . moreover, due to the complexity of the environment in which they are executed, they
usually involve several variables that can be handled dierently depending on the specic patient being
treated (anyanwu et al., 2003). therefore, these process models need to provide more freedom and should
not restrict users in taking appropriate actions. as suggested by mulyar et al. (mulyar et al., 2008),
declarative process modeling languages provide more exibility with respect to procedural languages when
describing process behavior. in particular, procedural languages can lead to unreadable and complex models
in unpredictable and variable environments. conversely, declarative languages oer more possibilities for
executions since, in a declarative model, the process is represented as a set of constraints and can be executed
in all possible ways as long as these constraints are respected (maggi et al., 2011).
in addition to reporting on the methodology, this paper shows how this methodology has been opera-
2tionalized in prom1. to assess its validity, we conducted an evaluation using a case study pertaining to a
process handled in the urology department of the isala hospital. the hospital is one of the top-clinical hos-
pitals in the netherlands treating more than half a million patients per year distributed over ve locations
in and around zwolle.
the paper is structured as follows. section 2 motivates the work. the methodology followed in the
case study is described in section 3. section 4 shows how recently developed plug-ins of the process mining
tool prom support the methodology. section 5 illustrates the experimental results. section 6 concludes the
paper.
2. motivation and problem denition
in several application domains, when a business process is executed, there are discrepancies between the
expected behavior and the actual behavior. for example, in medical treatment processes, process executions
can diverge from clinical guidelines for several reasons. the contribution of this paper is to show, through a
case study pertaining to a medical treatment process, how process mining techniques can be used to analyze
the discrepancies between the expected and the actual behavior of a business process and to understand their
root cause. we show that the analysis of the discrepancies is useful to improve future process executions if
they derive from mistakes the clinical practice. in addition, this analysis may also support the update of the
clinical guidelines based on the daily practice if the discrepancies are due to uncompleted and/or outdated
descriptions of the expected behavior.
2.1. the problem
the dierences between clinical guidelines and the actual process executions is one of the key concerns of
healthcare management (bansal et al., 2012; hay et al., 2008; dresselhaus et al., 2000; cahill and heyland,
2010). this gap has been highlighted for elds such as dermatology (hajjaj et al., 2010), psychology
(newnham and page, 2010), urology (cornu et al., 2010), etc. in (freeman and sweeney, 2001), the authors
investigate the reasons why clinicians do not always follow in detail the instructions provided by the clinical
guidelines when caring for (or treating) patients. through structured interviews, they found that personal
experiences, backgrounds, relations with individual patients, logistic and practical aspects usually inuence
clinical decisions: as a consequence, the actual practice deviates from the prescriptions.
sometimes, clinical decisions can also be inuenced by the cost of a treatment and by the patients'
socioeconomic status (bernheim et al., 2008). furthermore, as reported in (grol, 2010), clinical guidelines
may not adequately address issues relevant to everyday's patient care. for example, patients can exhibit
allergies that do not allow for some way of treating the pathology from which they are aected. surgery, even
1http://www.processmining.org
3if prescribed by the clinical guidelines, can be sometimes critical for patients having coagulation defects,
diabetes, or heart problems. the coexistence of many pathologies can require further examinations or
treatments not listed by the guidelines. hence, the expected treatment can be delayed or even avoided in
some cases. therefore, in many circumstances this gap is patient-related, since the doctors have to deal
with the particular patient conditions which may require specic and exceptional treatments.
in addition, there are some deviations that can be attributed to the diculties of translating research
ndings into practice. as reported in (graham et al., 2006), sometimes patients cannot benet of treatments
of proven validity because of the time needed to incorporate research results into practice.
generally speaking, if some deviations can positively aect the patient process care, others represent
errors that can compromise the patient recovery. therefore, it is crucial to detect these deviations and to
investigate the corresponding reasons in order to assess which of them can be classied as positive - and
therefore can be taken into account to update the clinical guidelines statements - and which ones should be
avoided and corrected in the clinical practice. as reported in (mahajan, 2010), safety can be improved by
learning from incidents and near misses. the need of monitoring the patient safety is becoming even more
widespread in the healthcare sector, both in order to protect patients from adverse events (berenholtz and
pronovost, 2007) and to avoid the related costs in terms of money (bolsin et al., 2005). moreover, one would
like to learn from \positive deviants". as shown in this paper, process mining techniques can be used to
address all these issues.
2.2. what are the disadvantages of the existing solutions?
according to (newnham and page, 2010), our goal should be to address the gap between daily practice
and clinical guidelines with more (objective) data rather then only with debates or subjective arguments.
chart abstractions, observational studies, chart audits, results of clinical trials, structured interviews have
proven to be useful instruments to investigate this gap in various clinical elds (hajjaj et al., 2010; dressel-
haus et al., 2000; petzold et al., 2010; newnham and page, 2010; lew and demaria, 2013). however, most
of these techniques are manual and, therefore, error-prone and time consuming.
in (bates et al., 2001), the authors highlight how the frequency and consequences of errors in medical
care can be reduced by monitoring the activities through hospital information systems. in general, as
summarized by lenz et al. (lenz and reichert, 2007b), various studies have reported positive eects when
using process-oriented it systems in healthcare to support and monitor the processes execution (fichman
et al., 2011). the use of process-oriented it systems in healthcare also results in a growth of the data stored
and/or exchanged electronically. analyzing this data manually is unfeasible. automatic business intelligence
tools can be used in this context. however, they aim at improving operational performance, e.g., reducing
ow time and defects, whereas medical treatment processes put more emphasis on risk management and
compliance checking.
4process mining techniques oer a means to more rigorously check compliance and ascertain the validity
and reliability of information about processes. in addition, several case studies have proven the usefulness of
process mining in healthcare (rebuge and ferreira, 2012; mans et al., 2009, 2008). de weerdt et al. (weerdt
et al., 2013) stressed the importance of process mining to acquire knowledge about past clinical experiences
in order to avoid medical errors in the future. however, these studies are based on standard process mining
techniques. these techniques mainly use procedural process models like bpmn, uml activity diagrams,
petri nets and epcs in which all that is not explicitly specied is forbidden. the explicit representation
of all the possible paths in highly dynamic environments characterized by high complexity and variability
make process models quickly unreadable.
2.3. how can the proposed approach help solving the problem?
the analysis methodology presented in this paper is based on process mining techniques. in particular,
we suppose that the expected behavior of a business process is represented through a process model. in
addition, we assume that process executions are supported by information systems that record data about
each execution in event logs. we show how a combination of process mining techniques can be used to:
identify discrepancies between process models and logs;
derive useful diagnostics about the discrepancies;
if there are mistakes in the actual behavior of the process, suggest actions to be undertaken to avoid
the same mistakes in future process executions;
if the deviances in the process executions are justied by an inaccurate description of the expected
behavior, adapt the process models to t the actual behavior automatically (through model repair).
a key-characteristic of the process mining techniques used in this paper is that they are based on declarative
process models. instead of explicitly specifying all possible sequences of activities in a process, declarative
models implicitly specify the allowed behavior using constraints that must be followed during execution. in
comparison to procedural approaches, which produce closed models, declarative languages are open. in this
way, declarative models enjoy exibility and still remain compact.
2.4. who will benet from the proposed approach?
the proposed analysis methodology can be used by business process analysts from dierent elds and can
be used for process improvement. being based on declarative process models, the methodology can be used
to analyze business processes working in unstable and unpredictable environments (like medical treatment
processes). while procedural models are more suitable to support business processes working in stable
environments, in which participants have to follow predened procedures (they suggest step by step what
5to do next), declarative models provide process participants with a (preferably small) set of constraints to
be followed during the process execution. in this way, process participants have the exibility to follow any
path that does not violate these constraints. the proposed methodology is, therefore, a powerful instrument
for process analysts who need to analyze business processes working in unpredictable environments and
characterized by several exceptions and several execution paths.
3. methodology
the methodology that we propose is based on the fact that often the medical guidelines are idealized
processes, which need to be specialized for the hospital in question. therefore, we propose a methodology to
automatically (i) check the conformance of the de jure model, which encodes the medical guidelines, against
the actual process executions, which are recorded in logging data; (ii) \repair" the de jure model to be in
line with the actual executions, thus obtaining a de facto model. for repairing the declare model, we employ
a methodology based on cross validation. the idea is that the event log is split in two fragments of (roughly)
the same size. the splitting is done completely randomly. the rst fragment, the so-called training log, is
used to repair the process model; the second fragment, the so-called test log, is used to validate the process
model by checking the conformance of the repaired model against it. if the conformance level is satisfactory,
the repair model is retained and considered as a de facto model. otherwise, the splitting is repeated again,
so like the repairing and the conformance checking, till the conformance level is satisfactory. as for the
application of data-mining techniques, the use of cross validation guarantees that the repair model is more
accurate. the proposed methodology is outlined in figure 1 and described below in detail. the methodology
is supported by dierent prom plug-ins as described in section 4.
event 
logtest log
training 
log
clinical 
guidelinesmodel 
design
(hand made)model repair
de jure 
modelde facto 
modelsplit event 
log for cross 
validationconformance 
checkinglow level of conformance
high level of conformance
record event  
data
healthcare 
information 
system conformance 
analysis reporthisend
figure 1: methodology for the analysis of medical treatment processes.
63.1. model design based on clinical guidelines
in the model design phase, a process model is created. the aim of this phase is to obtain a standard
representation of a medical treatment process as described by the corresponding clinical guidelines. since
this representation is based on theoretical statements established by the scientic literature, we will refer to
it as a de jure model. in recent years, many dierent approaches aiming at representing clinical guidelines
through formal models have been proposed, e.g., in the context of simulations for medical decision-support
systems (mulyar et al., 2008; grando et al., 2009; seyfang et al., 2007). one of the crucial points of these
representations concerns how to deal with the variability characterizing healthcare processes: as reported
in (mulyar et al., 2008) and motivated in section 1, we use a declarative process modeling language to
represent healthcare processes based on guidelines statements.
as shown in figure 1, the actual behavior of a medical treatment process can be analyzed using the
information recorded by process oriented it systems recently introduced in the healthcare sector (lenz
and reichert, 2007a). these systems typically log the activities performed during the process execution in
anevent log . an event log contains information about activities and cases (process instances); it can also
contain time information (timestamps) and indications about the actors involved in a specic case. process
mining techniques (van der aalst, 2011) use event logs to investigate the actual behavior of a process. model
repair, conformance checking, performance analysis and (unsupervised) process discovery, all belong to this
family of techniques.
3.2. model repair and cross validation
medical treatment processes have some basic characteristics (as stated in the clinical guidelines) but also
some characteristics that can dierently be interpreted and handled according to the background and the
experience of the end-users as discussed in section 2. the model repair phase aims at revising some aspects
of the de jure model based on information derived from the actual execution of the process as recorded in
the logs. of course, these modications must be justied from a medical point of view and still be consistent
with the intent of the guideline. the model derived from the repair procedure, called de facto model,
represents how the process should be executed in the clinical practice, according to both the guideline and
everyday reality.
our methodology for model repairing is based on cross validation. as shown in figure 1, the event data
is split into a training set for repairing the model and a test set for validating the result. the splitting is
performed randomly such that 50% of the event data is used for repairing and 50% for validating. this way,
the repaired model is confronted with process executions that have not been used to repair the model. if
the conformance result is not satisfactory, the entire procedure is repeated by splitting again the event log.
figure 1 shows that there is a possible feedback loop to further rene or revise the model. once the de facto
7model has been created, conformance checking techniques (van der aalst, 2011) are applied to measure the
adherence of future executions of the process with respect to this model.
4. operationalization
this section describes the tools that have been used to perform each phase of the methodology proposed
in section 3. a combination of declare2andprom3is used. declare is used for manipulation and enactment
of declarative process models. prom is a \pluggable" open-source framework for process mining. prom can
be used to discover declarative process models from event logs, repair models and check their conformance
(maggi, 2013).
4.1. model design
to perform the model design, we use declare. declare is an ltl-based declarative language (van der
aalst et al., 2009; pesic and van der aalst, 2006) supported by a toolset that includes a designer, a workow
engine, a worklist handler, and various analysis tools (westergaard and maggi, 2011). the designer can
be used to support this study, since it allows us to obtain a formal representation of clinical processes by
designing the activities and the constraints characterizing the process behavior.
declare is based on an extensible set of templates, i.e., abstract entities dening parameterized classes of
constraints specied through linear temporal logic (ltl) with semantics based on nite traces4and each
one equipped with its own graphical representation. templates can be classied according to four groups:
existence ,relation ,negative relation andchoice .existence templates involve only one activity and dene the
allowed cardinality or position of an activity in a case. relation/negative relation templates dene a depen-
dency/negative dependency between two activities. choice templates dene alternative relations between
activities. constraints are concrete instantiations of templates and inherit the graphical representation and
ltl semantics from the corresponding templates (van der aalst et al., 2009). a declare model is a set of
constraints that should hold in conjunction during the process execution.
figure 2 shows an example of a declare model. the model describes a process for gastric cancer surgical
treatments. the rst hospital admission requires the registration of the patient's data when he/she is
admitted to the hospital. this activity precedes all diagnostic/therapeutic treatments. the preoperative
screening , is performed before any surgical treatment in order to assess whether the patient's conditions are
good enough for the surgery to be performed and to estimate potential risks. as far as the surgical technique
is concerned, the gastric resection for malignant diseases can be performed by using either a laparoscopic
2http://www.win.tue.nl/declare/
3http://www.promtools.org
4for compactness, we simply write ltl to refer to ltl on nite traces.
8figure 2: an example of a declare model modeling the surgical treatment of gastric cancer.
surgery or a traditional open approach (qiu et al., 2013). furthermore, in both cases a nursing period is
needed to monitor the patient after the operation.
the declare model for this process involves ve activities: first hospital admission ,preoperative screen-
ing,open gastrectomy ,laparoscopic gastrectomy and nursing , and seven constraints: three derived from
theprecedence template, one from the exactly1 template, one from the exclusive choice template and two
from the response template.
aprecedence constraint between two activities a and b indicates that b can only be executed after
that a has been executed at least once. in the model shown in figure 2, a precedence constraint is used
to indicate that activity preoperative screening can be executed only after that first hospital admission
has occurred before. also, precedence constraints are used to specify that the surgical treatment, either
performed by using the open or the laparoscopic technique, can occur only if the preoperative screening has
been performed before.
anexactly1 constraint applied to an activity a indicates that a occurs exactly once. in the model shown
in figure 2, an exactly1 constraint species that first hospital admission occurs exactly once in a case.
this is the only admission where the personal details of the patient are specied. later on, other hospital
admissions can be performed but dierently from the first hospital admission the personal details of the
patient can be (in case) modied but are already available in the his.
anexclusive choice constraint between two activities a and b indicates that one of them must be ex-
ecuted, but not both. in the model shown in figure 2, an exclusive choice constraint indicates that the
surgical intervention can be executed either by using the laparoscopic gastrectomy or the open gastrec-
tomy; these techniques cannot be both applied to the same patient (unless emergent conditions require the
conversion from the laparoscopic to the open approach (qiu et al., 2013)).
aresponse constraint between two activities a and b states that b has to be executed at least once after
that a has been executed. in the model shown in figure 2, response constraints are used to indicate that
both activities laparoscopic gastrectomy and open gastrectomy must be followed by a nursing period.
referring to the example above, table 1 shows the semantics for each constraint involved in the model.
each constraint is dened in terms of an ltl formula (here, first hospital admission is indicated as fha,
9table 1: semantics of the declare constraints from figure 2 and their \activating" activities ( means \always", means
\eventually",means \next", xtymeans \ xshould hold until y" (strong until).
constraint ltl semantics activation
response (lg; n ) (lg)n) lg
response (og; n ) (og)n) og
precedence (fha; ps ) (:pstfha )_(:ps) ps
precedence (ps; lg ) (:lgtps)_(:lg) lg
precedence (ps; og ) (:ogtps)_(:og) og
exactly 1(fha ) fha^:((fha^(fha ))) fha
exclusivechoice (lg; og ) (lg_og)^:(lg^og) lg,og
preoperative screening as ps, laparoscopic gastrectomy as lg, open gastrectomy as og, nursing as n).
for example, (lg)n) is the ltl constraint stating that every occurrence of lgshould eventually be
followed by n. (:pstfha )_(:ps) models that psshould be preceded by fha .
table 1 also shows the activities activating a constraint. an activation of a constraint in a case is an event
whose occurrence imposes, because of that constraint, some obligations on other events in the same case. for
example, if we consider the model shown in figure 2, the occurrence of activity laparoscopic gastrectomy
is an activation for the response between laparoscopic gastrectomy and nursing, because the execution of
laparoscopic gastrectomy forces nursing to be also executed eventually. an activation of a constraint can
be a fulllment or a violation for that constraint. for example, the execution of laparoscopic gastrectomy is
a fulllment for the response between laparoscopic gastrectomy and nursing if laparoscopic gastrectomy
is followed by nursing. the execution of laparoscopic gastrectomy is a violation for the response between
laparoscopic gastrectomy and nursing if laparoscopic gastrectomy is not followed by nursing.
note that, for example, a response constraint between two activities aandbis satised in a trivial way
in a case if anever occurs. in this case, we say that the constraint is vacuously satised (kupferman and
vardi, 2003). in (burattin et al., 2012), the authors introduce the notion of behavioral vacuity detection
according to which a constraint is non-vacuously satised in a case when it is activated in that case. the
example presented in figure 2 shows that, using declare, it is possible to design formal models that are
easily understandable due to its simple graphical representation. moreover, since declare models are based
on formal ltl semantics, they are veriable and executable (van der aalst et al., 2009).
if events referring to activity executions are stored in an event log, it is possible to apply process mining
techniques (van der aalst, 2011) for further analysis on the process. table 2 shows an example of an event
log related to the surgical treatment of gastric cancer. each line refers to the occurrence of an event with
a unique id, a corresponding activity, a resource, a cost, and a timestamp. events are grouped per case,
where each instance represents an individual patient. an event log can be used to apply process mining
techniques for process analysis.
10table 2: fragment of event log including for each case: case id, event id, timestamp, activity, resource, cost.
case
idevent id timestamp activity resource cost
1 7785621 30-11-2011:08.27 first hospital admission carol 90
1 7785624 2-12-2011:13.24 preoperative screening susanne 350
1 7785625 4-12-2011:8.30 laparoscopic gastrectomy andrew 500
1 7785631 4-12-2011:13.30 nursing paul 250
2 7785631 1-12-2011:11.00 preoperative screening giuseppe 350
2 7785634 2-12-2011:15.28 laparoscopic gastrectomy simon 500
2 7785638 2-12-2011:16.35 nursing clare 250
2 7785640 3-12-2011:13.00 laparoscopic gastrectomy paul 500
2 7785641 3-12-2011:15.00 nursing andrew 250
2 7785661 4-12-2011:9.00 first hospital admission victor 90
3 7785654 7-12-2011:10.00 first hospital admission jane 90
3 7785624 8-12-2011:13.24 laparoscopic gastrectomy giulia 500
3 7785625 9-12-2011:16.35 nursing paul 250
4 7785640 6-12-2011:14.00 first hospital admission gianluca 90
4 7785667 8-12-2011:13.24 preoperative screening robert 350
4 7785671 10-12-2011:16.35 preoperative screening giuseppe 350
4 7785685 13-12-2011:11.00 laparoscopic gastrectomy simon 500
4 7785698 13-12-2011:16.00 first hospital admission jane 90
5 7785701 7-12-2011:15.00 first hospital admission carol 90
5 7785711 9-12-2011:7.30 preoperative screening susanne 350
5 7785723 13-12-2011:11.00 laparoscopic gastrectomy simon 500
5 7785728 13-12-2011:13.50 nursing clare 250
5 7785732 13-12-2011:19.50 nursing vivianne 250
6 7785701 7-12-2011:15.00 first hospital admission gianluca 90
6 7785711 9-12-2011:7.30 preoperative screening susanne 350
6 7785723 13-12-2011:11.00 laparoscopic gastrectomy andrew 500
7 7785744 11-12-2011:7.00 first hospital admission jane 90
7 7785754 12-12-2011:9.30 preoperative screening susanne 350
7 7785757 13-12-2011:16.00 laparoscopic gastrectomy andrew 500
7 7785761 13-12-2011:18.50 nursing vivianne 250
7 7785763 14-12-2011:8.30 laparoscopic gastrectomy gabriel 500
8 7785765 11-12-2011:7.00 preoperative screening gianluca 350
8 7785766 12-12-2011:9.00 preoperative screening susanne 350
8 7785768 13-12-2011:7.40 preoperative screening gianluca 350
8 7785771 14-12-2011:9.30 laparoscopic gastrectomy giulia 500
8 7785777 14-12-2011:16.00 nursing vivianne 250
9 7785785 16-12-2011:12.00 preoperative screening robert 350
9 7785795 17-12-2011:9.00 preoperative screening susanne 350
9 7785797 19-12-2011:9.30 laparoscopic gastrectomy andrew 500
9 7785891 19-12-2011:18.50 first hospital admission carol 90
9 7785893 20-12-2011:18.00 nursing paul 250
10 7786185 19-12-2011:13.00 first hospital admission jane 90
10 7786189 20-12-2011:9.30 preoperative screening robert 350
10 7786193 22-12-2011:8.50 laparoscopic gastrectomy andrew 500
10 7786198 22-12-2011:10.30 nursing clare 250
10 7786223 23-12-2011:14.30 nursing vivianne 250
4.2. model repair
in the model repair phase, the de jure model is adjusted and repaired based on the information extracted
from an event log. the result is a de facto model. to repair the model, the declare miner plug-in in prom
can be used (maggi et al., 2013a). it takes as inputs a declare model and an event log and produces a new
declare model that better reects how the process is executed in the reality (van der aalst, 2011). model
repair can be performed through the declare miner. three possible modalities can be used to repair the
11model using event data:
1. the rst modality generates a declare model that includes constraints dened starting from only those
templates that have been used in the input declare model but over all the activities contained in the
event log.
2. the second modality generates a declare model that includes constraints dened starting from only
those templates and activities that have been used in the input declare model.
3. the third modality replaces a constraint in the input declare model with a stronger constraint if
this constraint holds in the event log (for example, a response constraint between a and b could be
replaced by a chain response constraint indicating that b must immediately follow a).
figure 3: surgical treatment of gastric cancer: repaired model.
a minimum support can be specied as an input of the repair algorithm (maggi et al., 2012). through
this parameter, it is possible to leave out those constraints that are rarely activated in the log (i.e., constraints
with a low support). using dierent combinations of conguration options, the de jure model can be modied
by removing or changing existing constraints or adding new constraints.
consider the declare model shown in figure 2 and the event log in table 2. the declare model shows that,
according to the clinical guidelines, one of activities laparoscopic gastrectomy and open gastrectomy has
to be applied for each patient. however, in the event log in table 2, we can observe that open gastrectomy
is never executed. therefore, the model repair algorithm would generate a new declare model in which
activity open gastrectomy and all the constraints connected to it are removed, as shown in figure 3.
indeed, these constraints are trivially satised, i.e., they are never really activated being the frequency of
open gastrectomy equal to zero. this result could be justied with the fact that, due to the specic clinical
environment (e.g., doctors' expertise, type of patients treated, medical instruments available), the doctors
prefer to apply the laparoscopic approach. note that, if in a dierent department the open technique is
preferred, the same declare model would be repaired by removing activity laparoscopic gastrectomy. these
dierences are related to particular aspects of the real clinical environment and can be included in the de
facto models, since they do not violate the clinical guidelines.
124.3. conformance checking
conformance checking techniques (van der aalst, 2011) can be applied to investigate the deviations
between a process model and process executions (de leoni et al., 2012, 2015). two prom plug-ins, the
declare analyzer and the declare checker, provide concrete tool support for conformance checking.
the declare analyzer takes a declare model and an event log as inputs and pinpoints the deviations
between the actual behavior as recorded in the event log, and the admissible one as described in the declare
model. in particular, it shows activations, fulllments and violations of each constraint involved in the
model. note that when a case is compliant with respect to a constraint, every activation of that constraint
leads to a fulllment. consider the model shown in figure 2 and the event log in table 2. in case 2 of
the event log, the response constraint between laparoscopic gastrectomy and nursing is activated and
fullled twice (see figure 4), whereas, in case 1, the same constraint is activated and fullled only once (see
figure 5). when a case is non-compliant with respect to a constraint, an activation of a constraint can lead
to a fulllment but also to a violation (and at least one activation leads to a violation). see, for example,
the response constraint between laparoscopic gastrectomy and nursing in the model in figure 2 and case 7
figure 4: surgical treatment of gastric cancer: the response constraint between laparoscopic gastrectomy andnursing is
fullled twice for case 2.
figure 5: surgical treatment of gastric cancer: the response constraint between laparoscopic gastrectomy andnursing is
fullled once for case 1.
13figure 6: surgical treatment of gastric cancer: the response constraint between laparoscopic gastrectomy andnursing is
violated for case 7.
in the event log in table 2 (figure 6). in this case, the constraint is activated twice, but the rst activation
leads to a fulllment (eventually nursing occurs) and the second activation leads to a violation (nursing
does not occur eventually). another example of a violation can be found in the event log if we consider the
precedence constraint between first hospital admission and preoperative screening. indeed, for cases 2, 8,
and 9 we can nd respectively one, three and two violations of this precedence constraint.
since each case is referred to an individual patient treatment process, using the information provided by
the declare analyzer at the case level, it is possible to investigate the deviations based on the characteristic
of the specic patient. for example, when first hospital admission is missing in a case, it is possible that the
patient has already been registered in a dierent department of the same hospital for a dierent pathology.
for each constraint in the input declare model, the declare analyzer also provides the total number of
fulllments and violations on the entire log. in the considered event log, for example, for the response
constraint between laparoscopic gastrectomy and nursing, there are 9 fulllments and 3 violations.
as already mentioned, the conformance of the event log with respect to a declare model can also be
checked using the declare checker. in particular, the declare checker estimates the tness (van der aalst,
2011) between the model and the log, and, also, shows how non-compliant cases should be modied to be
aligned with the desired behavior, leading to the identication of reparative actions.
the declare checker is composed of two dierent plug-ins: the declare replayer and the declare di-
agnoser . the declare replayer takes as inputs a declare model and an event log and measures for each
case in the log the tness of the case with respect to the model in a range from 0 (worst tness) to 1 (best
tness) (van der aalst et al., 2012; de leoni et al., 2012, 2015). if, for some case, the corresponding tness
value is less than 1, an alignment between the case and the model is created to show how the case should
be modied to perfectly t the model. to establish an alignment between a process model and an event log
we need to relate \moves" in the log to \moves" in the model. in case of deviations, there are moves in the
log that cannot be mimicked by the model or vice versa. we explicitly denote a \no move" by . consider,
14for example, case 9 of the event log in table 2 and the model in figure 2. to align this case with the model,
activity first hospital admission should be moved to the rst position. table 3 shows the alignment. the
rst line denotes a move on model only (see ) due to the missing first hospital admission event before
preoperative screening. the fth line denotes a move on log only: the symbol in the last column shows
that first hospital admission cannot follow preoperative screening.
starting from the results derived from the declare replayer, the declare diagnoser generates a map to
give a helicopter view of the discrepancies between the log and the model. in particular, constraints and
activities in the reference declare model are annotated with numbers (ranging from 0 to 1) representing
their degree of conformance (de leoni et al., 2012, 2015). the degree of conformance of an activity in
the model is an indication of the number of times the activity has been removed or added to compute the
alignments between all the cases in the log and the reference model (van der aalst et al., 2012). the degree
of conformance of a constraint in the model is an indication of the number of times the constraint has been
violated in the event log. in the map, activities and constrains of the reference model are colored with colors
ranging from red to green to indicate a degree of conformance varying from 0 (red) to 1 (green).
5. case study
in this section, we illustrate a case study in order to demonstrate the applicability of the described
methodology in practice. in particular, we apply our methodology for a process handled in the urology
department of the isala hospital in zwolle to deal with patients aected by cryptorchidism. the isala
hospital consists of multiple clinics and is the largest non-university hospital in the netherlands. isala aims at
providing ecient and safe care to their patients. therefore, they are looking for innovative ways to analyze
and improve their care processes. within isala, the urology department is involved with diagnosing and
treating patients suering from illnesses on the male and female urinary tract, and on the male reproductive
system.
the logging data about the actual process executions have been extracted from the database underlying
the information system used by urology department of the isala hospital. the extraction of the events from
the database has been done to guarantee the right level of granularity from a business perspective. each
table 3: example of a trace alignment: there is one move in model and one move in log due to the wrong position of the first
hospital admission event in case 9.
case
idevent id timestamp activity in log activity in model
9 - -  first hospital admission
9 7785785 16-12-2011:12.00 preoperative screening preoperative screening
9 7785795 17-12-2011:9.00 preoperative screening preoperative screening
9 7785797 19-12-2011:9.30 laparoscopic gastrectomy laparoscopic gastrectomy
9 7785891 19-12-2011:18.50 first hospital admission 
9 7785893 20-12-2011:18.00 nursing nursing
15event corresponds to the execution of an activity by a doctor or a nurse. examples of activities are the
doctor's visits to patients, blood tests and surgeries. in the log there are 10 ;793 events referring to 160
dierent activities. events are grouped in cases by patients. the event log is composed by 289 cases, where
each case is associated with a dierent patient and comprises all events referring to that patient.
section 5.1 discusses the process of patients' treatment with cryptorchidism. section 5.2 discusses the
guidelines of the treatment of this disease and how they have been elaborated to construct the de jure model.
as already mentioned, the methodology to repair the de jure model to comply with the actual executions is
based on the idea of cross validation. randomly, the event log has been split in two parts: 50% for training
and 50% for test. the training and test part of the log has been used to respectively repair the de jure model
and validate the repaired model. section 5.3 reports on the checking of the conformance of the training
log with respect to the de jure model. section 5.4 illustrates how the model has been repaired, whereas
section 5.5 reports on the validation. the de facto model validation, i.e., the conformance checking of the
repaired model and the test event log, may return unsatisfactory results. according to the methodology,
this would require to repeat the random splitting of the event log in test and training, the model repairing
and the cross validation. here, we limit ourselves to one iteration.
5.1. context
cryptorchidism is the absence of one or both testis in the scrotum caused by a decient or irregular
testicular descent; it is one of the most common disorders of childhood, aecting 0.8 { 1.8 percent of infants
at 1 year of age, 3 percent of full-term newborns, and 21 percent of premature babies (smolko et al., 1983). it
has been assessed that it can also lead to an increasing risk of infertility and cancer (ferro et al., 1996). thus,
early diagnosis and treatment of undescended testis are needed to preserve fertility and to prevent testicular
malignancy. according to the european guidelines, although 15 { 20 of retained testes descend during
hormonal treatment, the intake of such substances may be harmful to future spermatogenesis by increasing
the apoptosis of germ cells; it was also assessed that the descended testes, when pharmacologically treated,
often reascend later. thus, the hormonal treatment is no longer recommended.
on the other hand, the success rate of surgical treatment for undescended testes, named 'orchidopexy' is
70 { 90 percent (jones, 1995). gapanya et al. (gapanya et al., 2008) state that the surgery is the cornerstone
of treatment. to surgically treat the cryptorchidism, either the open or the laparoscopic approach can be
applied, even if it is still open for debate which one of them should be preferred (guo et al., 2011). the
laparoscopic approach is more used because, according to gapanya et al. (gapanya et al., 2008), to date,
no imaging technique for non-palpable testes has proven to be superior to laparoscopy, which allows both
the diagnosis and the surgical treatment if there is a pathology aecting testes. whenever the operation
cannot be completed through the laparoscopic approach, a switch to the open technique can be applied.
this decision can be made by surgeons either before or during the actual operation, in those cases in which
16it remains opportune for patients safety (dominguez, 2001; mathers et al., 2009). generally, as reported
in the guidelines, a staged orchidopexy (fowler-stephenson) procedure can be performed, using the open
surgery, or mini-invasive approaches like laparoscopy or microsurgery. a biopsy at the time of orchidopexy
can be performed to reveal intratubular germ cell neoplasia of unclassied type, which can be removed
thereby preventing development of a malignant tumor.5
an association between cryptorchidism and testis cancer has been known for more than a century (wood
and elder, 2009). as reported by (rogers et al., 1998a) and (rogers et al., 1998b), when unilateral cryp-
torchidism with postpubertal male is identied through diagnostic procedures, the orchiectomy { a surgical
procedure to remove a testicle and the full spermatic cord through an incision in the lower lateral abdomen
{ should be performed instead of the orchidopexy.
5.2. design of the de jure declare model
the model of the process has been designed through the declare designer, mentioned in section 4.
information derived from the european guidelines and from some scientic articles found in pubmed (smolko
et al., 1983; ferro et al., 1996; jones, 1995; guo et al., 2011; denes et al., 2008; gapanya et al., 2008; rogers
et al., 1998b,a) has been used to dene activities and constraints characterizing the process. attention has
been paid to considering only the activities, among those characterizing the process, that appeared at least
once in the event log extracted from the information system of the urology department of the isala hospital.
the model is shown in figure 7.
the model is composed of 10 activities and 13 constraints using 4 dierent templates. the ltl semantics
of some declare templates have been provided in section 4. hereby, the particular meaning of each constraint
in the context of the process of interest will be illustrated.
precedence between radiological examination and first hospital admission and between lab tests
and first hospital admission: the hospital admission should be preceded by the examinations required
to assess the presence of the pathology. among these, radiological examination and lab tests are the
most common ones needed for cryptorchidism.
precedence between first hospital admission and preoperative screening: to undergo the preoperative
screening, the patient must be rst admitted to the hospital.
precedence between preoperative screening and open surgery, preoperative screening and orchi-
dopexy, preoperative screening and inguinal hernia treatment: according to the world health orga-
nization clinical guidelines for surgery, every surgical treatment cannot be executed without preliminary
examinations required in order to prevent risks for patients. it is important to outline that, according
5http://www.uroweb.org/fileadmin/guidelines/eau_go_manual_november_28th_2012.pdf
17figure 7: the cryptorchidism treatment according to scientic literature: representation through a declare model.
to the isala hospital denomination of the activities, the word orchidopexy indicates the testes treat-
ment carried out through the laparoscopic approach, while the open surgery indicates those treatments
performed through the open approach.
response between orchidopexy and nursing, inguinal hernia treatment and nursing and between
open surgery and nursing: according to the world health organization guidelines mentioned above,
a nursing period must follow every surgical treatment, in order to monitor the patient conditions after
the operation.
responded existence between histologic examination and orchidopexy: according to the european
guidelines of urology,6the biopsy with the histologic examination can be performed when the or-
chidopexy is performed whenever it is retained recommendable to analyze the nature of the tissue.
therefore, if the histologic examination occurs, the orchidopexy should occur as well in the process
execution.
succession between nursing and follow up: after the nursing period, patients must undergo the follow
up check in order to dene whether the treatment has been eective and the patient can be discharged,
or further examinations and interventions are required. also, the follow up is usually preceded by a
nursing period.
6http://www.uroweb.org/fileadmin/guidelines/eau_go_manual_november_28th_2012.pdf
18responded existence between inguinal hernia treatment and orchidopexy: according to the european
guidelines of urology, the inguinal hernia treatment can be performed at the time of the orchidopexy;
therefore, if the inguinal hernia treatment is performed, the orchidopexy is also performed.
exclusive choice between orchidopexy and open surgery: as explained above, to surgically treat the
cryptorchidism, it is possible to choose either the open or the laparoscopic approach, but not both
(guo et al., 2011).
this model is the result of some iterations with the doctors to ensure that the model is a valid represen-
tation of the ocial guidelines. after the last iteration, doctors conrmed its accuracy and correctness.
the continuous interaction with doctors to discuss models and analysis results represents a fundamental
requirement for the application of the proposed methodology.
5.3. conformance checking of de jure model
once the de jure model has been designed, conformance checking has been applied in order to measure
the adherence of this model with the training log. for conformance checking, we used the declare checker
and the declare analyzer plug-ins of prom (see section 4). the results obtained with the declare replayer
and the declare diagnoser are shown in figures 8 and 9.
figure 8: conformance checking between the de jure model and the training log: the declare replayer.
as shown in figure 8, the average tness between the de jure model and the training log is approx. 0.831.
this tness value is not very high and shows that the medical protocol is not followed in a number of cases.
19figure 9: conformance checking between the de jure model and the training log: the declare diagnoser.
the doctors acknowledged that the de jure model encodes the protocols dened in the medical literature.
nonetheless, there are many valid reasons why the protocol has not always been followed. figure 9 shows
that the most severe conformance problems between the theoretical model and actual practice are related to
the diagnostic activities preceding the rst hospital admission. this can be explained, by considering that
patients can undergo diagnostic examinations outside the hospital and then they can be admitted to the
hospital if these examinations highlight pathologies like cryptorchidism that may require surgical treatments.
through the declare analyzer plug-in it has been possible to gather a global overview about fulllments
and violations for each constraint in the model. the results are outlined in table 4 (here, first hospital
admission is indicated as fha, preoperative screening as ps, laparoscopic gastrectomy as lg, open
gastrectomy as og, nursing as n, orchidopexy as or, inguinal hernia treatment as iht, radiological
examination as re, lab tests as lb, follow up as fu).
the declare analyzer conrmed that, in most of cases, the first hospital admission is not preceded by
lab tests and radiological examinations (a screenshot of the declare analyzer showing this violation in
one of the cases in the log is shown in figure 8. indeed, when patients have already undergone the exams
required for the diagnosis - and the surgical treatment has been recommended by the doctors - the repetition
of the diagnostic examination is not required at the time of the admission to the hospital. therefore, in these
cases, the process starts with the first hospital admission, and the lab tests and radiological examination
are not present. it is also interesting to observe that there are some cases in which the precedence between
20table 4: the cryptorchidism treatment: conformance checking between the de jure model and the training log through the
declare analyzer.
constraint activations violations fulllments
precedence [ps - or] 197 7 190
precedence [ps - os] 4 0 4
precedence [ps - iht] 7 0 7
precedence [re - fha] 172 162 10
precedence [fha - ps] 264 86 178
precedence [lt - fha] 172 168 4
responded existence [he, or] 3 2 1
responded existence [iht, or] 7 6 1
exclusive choice [or-os] 201 0 201
succession [n-fu] 667 150 517
response [os-n] 4 0 4
response [or-n] 197 9 188
response [iht-n] 7 1 6
figure 10: conformance checking between the de jure model and the training log: the declare analyzer.
first hospital admission and preoperative screening is violated. according to the doctors, the observed
violations correspond to patients admitted to dierent departments of the hospital and then transferred
21to the urology department because urinary pathologies such as cryptorchidism were suspected. the same
considerations hold for the cases in which the precedence between preoperative screening and orchidopexy
was violated. it is indeed possible that patients have already undergone dierent surgical treatments in other
departments of the hospital and the data of the preoperative examinations were transferred to the urology
department. in these cases, the orchidopexy was directly performed, without repeating the exams. patients
can move from one department to another of the hospital. this also explains the violations of the succession
constraint between nursing and follow up and between orchidopexy and nursing, since, after the treatment
within the urology department, patients can be moved to other departments if other pathologies arise, and
monitored there. the obtained results also show that the responded existence between orchidopexy and
inguinal hernia treatment is violated in some cases. this can be explained by considering that, based to
the clinical guidelines, the inguinal hernia treatment can be performed at the time of the orchidopexy.7
according to the doctors there are cases in which inguinal hernia treatment is performed either in association
with other treatments or alone, without performing an orchidopexy.
5.4. repairing of the de jure model: the de facto model
the doctors recognized the validity of the de jure model and justied the discrepancies between the
de jure model and the log based on specic contingencies characterizing the process that generated the
log used for this case study. this triggered the need of repairing the de jure model to obtain a de facto
model, which takes into account the actual process executions. this has been achieved by using the function
repair a declare model of the declare miner plug-in in prom, described in section 4. we assume that all
the discrepancies identied in the conformance checking phase should be considered as well justied and
taken into consideration to repair the de jure model. dierent combinations of conguration options have
been set to generate dierent models. all these models have been shown to the doctors in order to choose
the one that better reects the cryptorchidism treatment process in the isala hospital. figure 11 shows a
comparison between the repaired declare model chosen by the doctors and the model in figure 7, which
conversely implements the procedure according to the scientic literature. the gray constraints are those
present in the original model but not present in the repaired model; the black ones are those introduced
by the repair task; the precedence constraint between preoperative screening and orchidopexy is the only
one retained from the original model. by comparing this model with the original one, important insights
can be derived. first, the repaired model does not show constraints related to activities performed before
the first hospital admission, i.e., lab tests and radiological examination. as already mentioned before,
there are several cases in which patients undergo diagnostic examinations outside the hospital: therefore, if
the diagnosis is established, it is not mandatory to repeat the examinations when patients are admitted to
the hospital, and they are directly prepared for surgical treatments.
7http://www.uroweb.org/fileadmin/guidelines/eau_go_manual_november_28th_2012.pdf
22first hospital admission  preoperative screening 
follow up  nursing  
orchidopexy  response 
response precedence  succession 
succession 
response 
responded  
existence  succession precedence  
lab test  radiological examination  precedence  
precedence  
inguinal hernia treatment  responded  
existence  
histologic examination  figure 11: the cryptorchidism treatment: comparison between the repaired model and the original model based on the scientic
literature. the gray constraints are those present in the original model but absent in the repaired model; the black are those
introduced by repairing; the precedence constraint between preoperative screening and orchidopexy is the only one retained
from the original model.
moreover, the precedence constraint indicating that preoperative screening must be preceded by first
hospital admission is removed. this is due to the fact that, when patients are admitted to dierent
departments of the hospital and then moved to the urology department for the testis treatment, they directly
undergo the screening for the surgical treatment, without a new registration. however, the precedence is
replaced by a response. this indicates that in the actual process, if the first hospital admission occurs,
the preoperative screening must happen afterwards.
for what concerns the surgical activities, the responded existence between inguinal hernia treatment
and orchidopexy is removed. this is justied by considering that hernia treatment can either be performed
in the actual practice or not according to the specicity of the cases treated. such a situation represents a
typical example of those aspects of the clinical guidelines that are strongly dependent on the specic cases
to be treated. in the considered event log, indeed, it is possible that most of the patients were not aected
from inguinal hernia, so that the treatment was not performed. the same considerations hold for activity
histologic examination, which is not constrained anymore.
since the open surgery is performed only in three cases in the event log, the model repairing technique
does not nd sucient support to retain any of the constraints associated with that activity. therefore,
all constraints are removed from the model. this is in accordance to (gapanya et al., 2008), in which it is
stated that the laparoscopic approach represents the best method to treat cryptorchidism, since, with this
approach, the zone to be treated becomes more visible; in addition, nowadays, the mini-invasive approaches
are likely to replace the traditional open surgery in several medical sectors.
23in the repaired model it is also shown that the precedence relation between preoperative screening and
orchidopexy is respected, in line with the clinical guidelines statements. there is also a response that has
been added between them, indicating that usually, if preoperative screening is carried out, the orchidopexy
occurs afterwards. furthermore, the response relation between orchidopexy and nursing appears to be
reinforced in the actual practice: in the repaired model, indeed, it is replaced by a succession constraint,
which indicates that not only after the surgery the nursing must be provided, as stated by the clinical
guidelines, but also that in the actual process nursing is always preceded by orchidopexy. finally, a
response constraint between nursing and follow up is shown instead of succession: it indicates that after
the nursing period, the follow up is needed for patients, but it is not mandatory that the nursing occurs
before the follow up. a responded existence links follow up to orchidopexy, meaning that, in the actual
process, if follow up occurs, orchidopexy occurs as well.
5.5. cross validation: conformance checking of the de facto model against the test log
in this step of the study, the repaired model has been matched with the actual process by applying
conformance checking between this (de facto) model and the test log. as shown in figure 12, the declare
replayer indicates a tness value between the repaired and the actual model of 0.884. the results returned
figure 12: the cryptorchidism treatment: conformance checking between the repaired model and the test log (declare re-
player).
by the declare diagnoser are shown in figure 13. it is possible to notice that all the activities are represented
in green, indicating a good degree of conformance.
24figure 13: the cryptorchidism treatment: conformance checking between the repaired model and the test log (declare diag-
noser).
the results obtained with the declare analyzer are represented in table 5 (here, first hospital admission
is indicated as fha, preoperative screening as ps, laparoscopic gastrectomy as lg, open gastrectomy as
og, nursing as n, orchidopexy as or, follow up as fu). it is interesting to notice that there are 14 cases in
which nursing is not followed by follow up and 43 cases in which the succession between orchidopexy and
nursing is violated. according to the doctors' opinion, these violations are due to the fact that there are cases
in which, after the testis treatment, patients are moved to dierent departments. the same consideration
holds for the precedence between preoperative screening and orchidopexy, which was violated in 7 cases.
there are also cases in which the responded existence between follow up and orchidopexy is not respected,
indicating that follow up is performed whereas orchidopexy is not. examples of violations detected from
the declare analyzer are shown in figure 14.
6. conclusion
in this paper, we presented the application of a methodology showing how to use process mining tech-
niques based on declarative models to analyze medical treatment processes. the applied methodology aims
at (i) discovering and pinpointing the deviations between the de jure model , i.e., the model that complies
with existing medical protocols, and the actual behavior as observed in the event log extracted from the
his, and (ii) creating a de facto model , i.e., the model that represent the right compromise between the de
25figure 14: conformance checking between the repaired model and the test log: the declare analyzer.
table 5: the cryptorchidism treatment: conformance checking between the repaired and the test log through the declare
analyzer.
constraint activations violations fulllments conicts
succession [or-n] 446 43 403 0
precedence [ps - n] 513 48 465 0
responded existence [fu - or] 418 80 338 0
response [ps - or] 264 58 206 0
response [fha - ps] 172 16 156 0
precedence [ps - or] 197 7 190 0
response [n - fu] 249 14 235 0
jure model and what is practically observed.
the methodology has been applied to a real healthcare case study in the isala hospital. doctors, nurses
and process analysts are familiar with procedural modeling languages, even though these models tend to
be large and barely readable. in the case study, we had to make the stakeholders acquainted with declare.
although declare has a simple graphical notation and succinct semantics, quite some time is required to
fully grasp the notation. therefore, it is good to investigate how to improve the understandability of the
notation. however, in spite of this, the results of the case study have shown to be quite insightful, thus
26being helpful for the process analysts to improve how patients are treated.
the main limitation of the presented methodology is that it relies on the availability of event logs that
record the executions of cases. information systems in a hospital are typically poorly integrated: many
systems coexist within the same hospital, thus returning dierent event logs that cannot be easily merged
and that often contain inconsistencies. even in the current case study a preprocessing phase was needed to
extract useful data from the information systems of the isala hospital.
as future work, we aim at (i) experimenting techniques that take into consideration also the data and
the time perspectives available in event logs (not only control ow), like the ones presented in (bose et al.,
2013; maggi and westergaard, 2014; montali et al., 2013a; westergaard and maggi, 2012; maggi, 2014;
montali et al., 2013b; de masellis et al., 2014; montali et al., 2013a; maggi et al., 2013b; burattin et al.,
2015; borrego and barba, 2014), (ii) identifying possible solutions to compare two models or two logs for
analysis (not only a model and a log), (iii) developing a general framework supporting process analysts to
extract event logs from healthcare information systems, (iv) applying the proposed methodology in dierent
scenarios to evaluate it in a systematic way.
acknowledgements
the work of massimiliano de leoni is supported by the european community's seventh framework program
fp7 under grant agreement num. 603993 (core). the authors would like to thank ronny mans for his
precious support.
references
anyanwu, k., sheth, a., cardoso, j., miller, j., kochut, k., et al., 2003. healthcare enterprise process development and
integration. journal of research and practice in information technology 35 (2), 83{98.
bansal, p., bertels, s., ewart, t., macconnachie, p., o'brien, j., 2012. bridging the research-practice gap. academic of
management perspective 26 (1), 73{92.
bates, d., cohen, m., leape, l., overhage, j. m., shabot, m. m., sheridan, t., 2001. reducing the frequency of errors in
medicine using information technology. journal of the american medical informatics association 8 (4), 299{308.
berenholtz, s. m., pronovost, p. j., 2007. monitoring patient safety. critical care clinics 23 (3), 659{673.
bernheim, s. m. b., ross, j. s., krumholz, h. m., bradley, e. h., 2008. inuence of patients'' socioeconomic status on clinical
management decisions: a qualitative study. annals of family medicine 6, 53{59.
bolsin, s., patrick, a., colson, m., creatie, b., freestone, l., 2005. new technology to enable personal monitoring and
incident reporting can transform professional culture: the potential to favourably impact the future of health care. journal
of evaluation in clinical practice 11, 499{506.
borrego, d., barba, i., 2014. conformance checking and diagnosis for declarative business process models in data-aware
scenarios. expert syst. appl. 41 (11), 5340{5352.
bose, r. p. j. c., maggi, f. m., van der aalst, w. m. p., 2013. enhancing declare maps based on event correlations. in: business
process management - 11th international conference, bpm 2013, beijing, china, august 26-30, 2013. proceedings. vol.
8094 of lecture notes in computer science. springer, pp. 97{112.
27burattin, a., maggi, f. m., sperduti, a., 2015. conformance checking based on multi-perspective declarative process models.
corr abs/1503.04957.
burattin, a., maggi, f. m., van der aalst, w., sperduti, a., 2012. techniques for a posteriori analysis of declarative processes.
in: enterprise distributed object computing conference (edoc), 2012 ieee 16th international. pp. 41{50.
cahill, n. e., heyland, d. k., 2010. bridging the guideline practice gap in critical care nutrition: a review of guideline
implementation studies. journal of parenteral and enteral nutrition 34 (6), 653{659.
cochrane, l. j., olson, c. a., murray, s., dupuis, m., tooman, t., hayes, s., 2007. gaps between knowing and doing:
understanding and assessing the barriers to optimal health care. journal of continuing education in the health professions
27 (2), 94{102.
cornu, j.-n., cussenot, o., haab, f., lukas, b., 2010. a widespread population study of actual medical management of
lower urinary tract symptoms related to benign prostatic hyperplasia across europe and beyond ocial clinical guidelines.
european urology 58, 450{456.
de leoni, m., maggi, f. m., van der aalst, w., 2012. aligning event logs and declarative process models for conformance
checking. in: business process management. vol. 7481 of lecture notes in computer science. springer berlin heidelberg,
pp. 82{97.
de leoni, m., maggi, f. m., van der aalst, w. m. p., 2015. an alignment-based framework to check the conformance of
declarative process models and to preprocess event-log data. information systems 47, 258{277.
de masellis, r., maggi, f. m., montali, m., 2014. monitoring data-aware business constraints with nite state automata. in:
zhang, h., huang, l., richardson, i. (eds.), international conference on software and systems process 2014, icssp '14,
nanjing, china - may 26 - 28, 2014. acm, pp. 134{143.
denes, f. t., saito, f. j., silva, f. a., giron, a. m., machado, m., srougi, m., 2008. laparoscopic diagnosis and treatment of
nonpalpable testis. international braz j urol 34 (3), 329{335.
dominguez, c. o., 2001. expertise in laparoscopic surgery: anticipation and aordances. linking expertise and naturalistic
decision making, 287{301.
dresselhaus, t. r., peabody, j. w., lee, m., wang, m. m., luck, j., 2000. measuring compliance with preventive care
guidelines. journal of general internal medicine 15, 782{788.
eddy, d. m., 1 2005. evidence-based medicine: a unied approach. health aair 24 (1), 9{17.
ferro, f., lais, a., gonzalez-serva, l., 1996. benets and afterthoughts of laparoscopy for the nonpalpable testis. the journal
of urology 156 (6), 795{798.
fichman, r., kohli, r., krishnan, r., 2011. the role of information systems in healthcare: current research and future trends.
information systems research 22 (3), 419{428.
freeman, a., sweeney, k., 2001. why general practitioners do not implement evidence: qualitative study. bmj 323, 1{5.
gapanya, c., freya, p., cachatb, f., gudinchetc, f., jichlinskie, p., meyrata, b.-j., ramseyera, p., theintzd, g., burnandf,
b., 2008. management of cryptorchidism in children:guidelines. risk 16 (33-34), 19.
graham, i. d., logan, j., harrison, m. b., straus, s. e., tetroe, j., caswell, w., robinson, n., 2006. lost in knowledge
translation: time for a map? journal of continuing education in the health professions 26 (1), 13{24.
grando, m. a., glasspool, d. w., fox, j., 2009. petri nets as a formalism for comparing expressiveness of workow-based
clinical guideline languages. in: business process management workshops. springer, pp. 348{360.
grol, r., 2010. has guideline development gone astray? yes. bmj 340, 394{395.
guo, j., liang, z., zhang, h., yang, c., pu, j., mei, h., zheng, l., zeng, f., tong, q., 2011. laparoscopic versus open orchi-
dopexy for non-palpable undescended testes in children: a systemic review and meta-analysis. pediatric surgery international
27 (9), 943{952.
hajjaj, f., salek, m., basra, m., finlay, a., 2010. nonclinical inuences, beyond diagnosis and severity, on clinical decision
28making in dermatology: understanding the gap between guidelines and practice. british journal of dermatology 163, 789{
799.
hay, m. c., weisner, t. s., subramanian, s., duan, n., niedzinski, e. j., kravitz, r. l., 2008. harnessing experience: exploring
the gap between evidence-based medicine and clinical practice. journal of evaluation in clinical practice 14, 707{713.
hetlevik, i., holmen, j., kr ~a1
4ger, o., holen, a., 1997. fifteen years with clinical guidelines in the treatment of hypertension{
still discrepancies between intentions and practice. in: scand j prim health care. pp. 134{40.
jones, p., 1995. approaches to orchidopexy. british journal of urology 75 (6), 693{696.
kupferman, o., vardi, m. y., 2003. vacuity detection in temporal model checking. international journal on software tools for
technology transfer, 224{233.
lenz, r., reichert, m., 2007a. it support for healthcare processes - premises, challenges, perspectives. data & knowledge
engineering 61 (1), 39{58.
lenz, r., reichert, m., 2007b. it support for healthcare processes: premises, challenges, perspectives. data & knowledge
engineering 61 (1), 39{58.
lew, w. y., demaria, a. n., 2013. the divergence between clinical guidelines and practice. journal of the american college
of cardiology 61 (1), 41{43.
maggi, f. m., 2013. declarative process mining with the declare component of prom. in: fauvet, m., van dongen, b. f. (eds.),
proceedings of the bpm demo sessions 2013, beijing, china, august 26-30, 2013. vol. 1021 of ceur workshop proceedings.
ceur-ws.org.
maggi, f. m., 2014. discovering metric temporal business constraints from event logs. in: johansson, b., andersson, b.,
holmberg, n. (eds.), perspectives in business informatics research - 13th international conference, bir 2014, lund,
sweden, september 22-24, 2014. proceedings. vol. 194 of lecture notes in business information processing. springer, pp.
261{275.
maggi, f. m., bose, r., van der aalst, w., 2012. ecient discovery of understandable declarative process models from event
logs. in: advanced information systems engineering. springer, pp. 270{285.
maggi, f. m., bose, r. p. j. c., van der aalst, w. m. p., 2013a. a knowledge-based integrated approach for discovering and
repairing declare maps. in: salinesi, c., norrie, m. c., pastor, o. (eds.), advanced information systems engineering -
25th international conference, caise 2013, valencia, spain, june 17-21, 2013. proceedings. vol. 7908 of lecture notes in
computer science. springer, pp. 433{448.
maggi, f. m., dumas, m., garc a-ba~ nuelos, l., montali, m., 2013b. discovering data-aware declarative process models from
event logs. in: daniel, f., wang, j., weber, b. (eds.), business process management - 11th international conference, bpm
2013, beijing, china, august 26-30, 2013. proceedings. vol. 8094 of lecture notes in computer science. springer, pp. 81{96.
maggi, f. m., mooij, a. j., van der aalst, w., 2011. user-guided discovery of declarative process models. in: computational
intelligence and data mining (cidm), 2011 ieee symposium on. ieee, pp. 192{199.
maggi, f. m., westergaard, m., 2014. using timed automata for a priori warnings and planning for timed declarative process
models. int. j. cooperative inf. syst. 23 (1).
mahajan, r., 2010. critical incident reporting and learning. br j anaesth 105, 69{75.
mans, r., schonenberg, h., leonardi, g., panzarasa, s., cavallini, a., quaglini, s., van der aalst, w., 2008. process mining
techniques: an application to stroke care.
mans, r., schonenberg, m., song, m., van der aalst, w., bakker, p., 2009. application of process mining in healthcare: a case
study in a dutch hospital. in: fred, a., filipe, j., gamboa, h. (eds.), biomedical engineering systems and technologies.
vol. 25 of communications in computer and information science. springer, pp. 425{438.
mathers, m. j., sperling, h., r ubben, h., roth, s., 2009. the undescended testis: diagnosis, treatment and long-term
consequences. dtsch arztebl int 106 (33), 527{532.
29milchak, j., carte, r. b., james, p., ardery, g., 2004. measuring adherence to practice guidelines for the management of
hypertension: an evaluation of the literature. in: hypertension. pp. 602{8.
montali, m., chesani, f., mello, p., maggi, f. m., 2013a. towards data-aware constraints in declare. in: shin, s. y., maldonado,
j. c. (eds.), proceedings of the 28th annual acm symposium on applied computing, sac '13, coimbra, portugal, march
18-22, 2013. acm, pp. 1391{1396.
montali, m., maggi, f. m., chesani, f., mello, p., van der aalst, w. m. p., 2013b. monitoring business constraints with the
event calculus. acm tist 5 (1), 17.
mulyar, n., pesic, m., van der aalst, w., peleg, m., 2008. declarative and procedural approaches for modelling clinical
guidelines: addressing exibility issues. in: business process management workshops. springer, pp. 335{346.
newnham, e. a., page, a. c., 2010. bridging the gap between best evidence and best practice in mental health. clinical
psychology review 30 (1), 127{142.
pesic, m., van der aalst, w., 2006. a declarative approach for exible business processes management. in: business process
management workshops. springer-verlag, berlin, heidelberg, pp. 169{180.
petzold, a., korner-bitensky, n., menon, a., 2010. using the knowledge to action process model to incite clinical change.
journal of continuing education in the health professions 30 (3), 167{171.
qiu, j., pankaj, p., jiang, h., zeng, y., wu, h., 2013. laparoscopy versus open distal gastrectomy for advanced gastric cancer:
a systematic review and meta-analysis. surgical laparoscopy, endoscopy & percutaneous techniques 23 (1), 1{7.
rebuge, a., ferreira, d. r., 2012. business process analysis in healthcare environments: a methodology based on process
mining. information system 37 (2), 99{116.
rogers, e., teahan, s., gallacher, h., butler, m. r., grainer, r., mcdermott, t., thornill, j. a., 1998a. the role of orchiectomy
in the management of postpubertal cryptorchidism. the journal of urology 159 (3), 851{854.
rogers, e., teahan, s., hugh, g., r., b. m., grainger, r., mcdermott, t., a., t. j., 1998b. the role of orchiectomy in the
management of postpubertal cryptorchidism. the journal of urology 159, 851{854.
seyfang, a., mart nez-salvador, b., serban, r., wittenberg, j., miksch, s., marcos, m., ten teije, a., rosenbrand, k., 2007.
maintaining formal models of living guidelines eciently. articial intelligence in medicine, 441{445.
smolko, m., kaplan, g., brock, w., 1983. location and fate of the nonpalpable testis in children. the journal of urology
129 (6), 1204{1206.
van der aalst, w., 2011. process mining: discovery, conformance and enhancement of business processes. springer.
van der aalst, w., a., a., van dongen b., 2012. replaying history on process models for conformance checking and perfor-
mance analysis. wires data mining and knowledge discovery 2 (2), 182{192.
van der aalst, w., pesic, m., schonenberg, h., 2009. declarative workows: balancing between exibility and support.
computer science-research and development 23 (2), 99{113.
weerdt, j., caron, f., vanthienen, j., baesens, b., 2013. getting a grasp on clinical pathway data: an approach based on
process mining. in: emerging trends in knowledge discovery and data mining. vol. 7769 of lecture notes in computer
science. springer berlin heidelberg, pp. 22{35.
westergaard, m., maggi, f. m., 2011. declare: a tool suite for declarative workow modeling and enactment. in: bpm
(demos).
westergaard, m., maggi, f. m., 2012. looking into the future. using timed automata to provide a priori advice about timed
declarative process models. in: meersman, r., panetto, h., dillon, t. s., rinderle-ma, s., dadam, p., zhou, x., pearson,
s., ferscha, a., bergamaschi, s., cruz, i. f. (eds.), on the move to meaningful internet systems: otm 2012, confederated
international conferences: coopis, doa-svi, and odbase 2012, rome, italy, september 10-14, 2012. proceedings, part
i. vol. 7565 of lecture notes in computer science. springer, pp. 250{267.
wood, h. m., elder, j. s., 2009. cryptorchidism and testicular cancer: separating fact from ction. the journal of urology
30181 (2), 452{461.
31